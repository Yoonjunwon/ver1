<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>눈 질환</title>
</head>
<body>
  <form>
    <h3>시력저하</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <p></p>
    <h3>시야장애</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <p></p>
    <h3>복시</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>

    <p></p>
    <h3>눈충혈</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <p></p>
    <h3>통증</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <p></p>
    <h3>눈꺼풀 부기</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <p></p>
    <h3>눈꺼풀 처짐</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <p></p>
    <h3>이물감</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <p></p>
    <button type="button" onclick="getChecked()">Submit</button>
  </form>
  
  
  <script type="text/javascript">
                            /*시력저하  시력장애   복시     눈충혈  통증   눈꺼풀부기 눈꺼풀처짐*/
    const doublearr = [[/*백내장*/'있음', '있음', '있음', '없음', '없음', '없음', '없음', '없음']
                    ,  [/*결막염*/'있음', '있음', '없음', '있음', '있음', '없음', '없음', '없음']
                    ,  [/*사시*/'있음', '있음', '없음', '없음', '없음', '없음', '없음', '없음']
                    ,  [/*안구건조증*/'있음', '있음', '없음', '없음', '있음', '없음', '없음', '있음']/**/
                    ,  [/*날파리증*/'없음', '있음', '없음', '없음', '없음', '없음', '없음', '없음']
                    ,  [/*유리체 출혈*/'있음', '있음', '없음', '없음', '없음', '없음', '없음', '없음']
                    ,  [/*수정체 탈구*/'있음', '있음', '없음', '없음', '없음', '없음', '없음', '없음']
                    ,  [/*당뇨망막병증*/'있음', '있음', '없음', '없음', '없음', '없음', '없음', '없음']
                    ,  [/*망막박리*/'있음', '있음', '없음', '없음', '없음', '없음', '없음', '없음']
                    ,  [/*녹내장*/'있음', '있음', '없음', '없음', '있음', '없음', '없음', '없음']/**/
                    ,  [/*각막/결막 이물*/'있음', '있음', '없음', '있음', '있음', '있음', '없음', '없음']
                    ,  [/*각막염/각막궤양*/'있음', '있음', '없음', '있음', '있음', '있음', '없음', '없음']
                ];

    function getChecked() {//체크박스 값 배열로 만들기
      const checkboxes = document.getElementsByName('pain');
      
      const checkedValues = [];

      for (let i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i].checked) {
          checkedValues.push(checkboxes[i].value);
        }
      }
      console.log(checkArrayEquality(checkedValues, doublearr));
      console.log(checkedValues);
      window.location.href = checkArrayEquality(checkedValues, doublearr)
    }
    

    function checkArrayEquality(arr1, arr2) {
      const results = [];
      const bottleName = ['백내장.html', '결막염.html', '사시.html', '안구건조증.html', '날파리증.html', '유리체 출혈.html', '수정체 탈구.html', '당뇨망박병증.html', '망막박리.html', '녹내장.html', '각막/결막 이물.html', '각막염/각막궤양.html'/*, '시신경염.html'*/];

      // arr1의 각 요소를 arr2의 각 요소와 비교하여 결과를 results 배열에 저장
  
      for (let i = 0; i < arr2.length; i++) {
        if (Array.isArray(arr2[i])) { // 해당 원소가 배열인 경우
          if (
            arr1[0] == arr2[i][0] && 
            arr1[1] == arr2[i][1] && 
            arr1[2] == arr2[i][2] && 
            arr1[3] == arr2[i][3] && 
            arr1[4] == arr2[i][4] && 
            arr1[5] == arr2[i][5] && 
            arr1[6] == arr2[i][6] &&
            arr1[7] == arr2[i][7]) 
          {
            results.push(bottleName[i]);
          }
        }
      }
      if(results.length === 0){
      alert('검색된 결과가 없습니다! 다시 입력해주세요!');
      window.location.href = checkArrayEquality(checkedValues, doublearr)
    }else{
      return results;
    }
    }
</script>
  
</body>
</html>