<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>기침</title>
</head>
<body>
  <form>
    <h3>가래</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <p></p>
    <h3>객혈</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <p></p>
    <h3>콧물</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <h3>호흡곤란</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <p></p>
    <h3>발열동반</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>

    <p></p>
    <h3>동반증상(2가지 체크)</h3>
    <label><input type="checkbox" name="pain" value="가슴 쓰림">가슴 쓰림</label>
    <label><input type="checkbox" name="pain" value="목소리 변화">목소리 변화</label>
    <label><input type="checkbox" name="pain" value="구토">구토</label>
    <label><input type="checkbox" name="pain" value="결막염">결막염</label>
    <label><input type="checkbox" name="pain" value="목의 이물감">목의 이물감</label>
    <label><input type="checkbox" name="pain" value="목의 통증">목의 통증</label>
    <label><input type="checkbox" name="pain" value="반복적인 재채기">반복적인 재채기</label>
    <label><input type="checkbox" name="pain" value="맑은 콧물">맑은 콧물</label>
    <label><input type="checkbox" name="pain" value="청색증">청색증</label>
    <label><input type="checkbox" name="pain" value="권태감">권태감</label>
    <label><input type="checkbox" name="pain" value="안면통">안면통</label>
    <label><input type="checkbox" name="pain" value="체중감소">체중감소</label>
    <label><input type="checkbox" name="pain" value="화농성 가래">화농성 가래</label>
    <label><input type="checkbox" name="pain" value="천명음">천명음</label>
    <label><input type="checkbox" name="pain" value="체중감소">체중감소</label>
    <label><input type="checkbox" name="pain" value="가슴 답답">가슴 답답</label>
    <label><input type="checkbox" name="pain" value="호흡곤란">호흡곤란</label>
    <label><input type="checkbox" name="pain" value="흉통">흉통</label>
    <label><input type="checkbox" name="pain" value="빈맥">빈맥</label>
    <label><input type="checkbox" name="pain" value="가슴 통증">가슴 통증</label>
   
    <p></p>
    <button type="button" onclick="getChecked()">Submit</button>
  </form>
  
  <script type="text/javascript">
    const doublearr = [['있음', '없음', '있음', '없음', '없음','가슴 쓰림', '목소리 변화'], //
                       ['있음', '없음', '있음', '없음', '있음','구토', '결막염'],
                       ['있음', '없음', '있음', '없음', '없음','목의 이물감', '목의 통증'],//
                       ['있음', '없음', '있음', '없음', '없음','반복적인 재채기', '맑은 콧물'],//
                       ['있음', '있음', '있음', '있음', '있음','목소리변화', '청색증'],
                       ['있음', '없음', '있음', '있음', '있음','권태감', '안면통'],
                       ['있음', '없음', '없음', '있음', '있음','체중감소', '화농성 가래'],
                       ['있음', '있음', '있음', '있음', '없음','천명음', '체중감소'],
                       ['있음', '있음', '있음', '있음', '없음','가슴 답답', '호흡곤란'],
                       ['없음', '없음', '없음', '있음', '없음','흉통', '호흡곤란'],
                       ['없음', '있음', '없음', '있음', '있음','빈맥', '가슴 통증']];

    function getChecked() {//체크박스 값 배열로 만들기
      const checkboxes = document.getElementsByName('pain');
      
      const checkedValues = [];

      for (let i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i].checked) {
          checkedValues.push(checkboxes[i].value);
        }
      }
      console.log(checkedValues);
      window.location.href = checkArrayEquality(checkedValues, doublearr)
    }
    

    function checkArrayEquality(arr1, arr2) {
      const results = [];
      const bottleName = ['역류성 식도염.html', '백일해.html', '후비루.html', '알레르기 비염.html', '후두개염.html',
       '만성 부비동염.html', '폐농양.html', '기관지확장증.html', '천식.html', '기흉.html', '폐색전증.html'];

      // arr1의 각 요소를 arr2의 각 요소와 비교하여 결과를 results 배열에 저장
  
      for (let i = 0; i < arr2.length; i++) {
        if (Array.isArray(arr2[i])) { // 해당 원소가 배열인 경우
          if (
            arr1[0] == arr2[i][0] && 
            arr1[1] == arr2[i][1] && 
            arr1[2] == arr2[i][2] && 
            arr1[3] == arr2[i][3] && 
            arr1[4] == arr2[i][4] && 
            arr1[5] == arr2[i][5] && 
            arr1[6] == arr2[i][6]
            ) 
          {
            results.push(bottleName[i]);
          }
        }
      }
      
    
      if(results.length === 0){
            alert('검색된 결과가 없습니다! 다시 입력해주세요!');
            window.location.href = checkArrayEquality(checkedValues,doublearr)
        }
        else{
            return results;
        }
   
   
    }
</script>
  
</body>
</html>