<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>어지러움</title>
</head>
<body>
  <form>
    <h3>의식소실</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>
    <p></p>
    <h3>두통동반</h3>
    <label><input type="checkbox" name="pain" value="있음">있음</label>
    <label><input type="checkbox" name="pain" value="없음">없음</label>

    <p></p>
    <h3>동반증상(2가지 체크)</h3>
    <label><input type="checkbox" name="pain" value="빛이나 소리 공포증, 오심">빛이나 소리 공포증, 오심</label>
    <label><input type="checkbox" name="pain" value="구토">구토</label>
    <label><input type="checkbox" name="pain" value="압박감">압박감</label>
    <label><input type="checkbox" name="pain" value="조이는 느낌">조이는 느낌</label>
    <label><input type="checkbox" name="pain" value="청력감소, 귀먹먹함 반복되는 질병">청력감소, 귀먹먹함 반복되는 질병</label>
    <label><input type="checkbox" name="pain" value="심하면 메스꺼움, 구토">심하면 메스꺼움, 구토</label>
    <label><input type="checkbox" name="pain" value="피로감, 구토">피로감, 구토</label>
    <label><input type="checkbox" name="pain" value="혼수, 의식변화, 기억장애">혼수, 의식변화, 기억장애</label>
    <label><input type="checkbox" name="pain" value="피로감, 창백">피로감, 창백</label>
    <label><input type="checkbox" name="pain" value="식은땀, 현기증">식은땀, 현기증</label>
    <label><input type="checkbox" name="pain" value="손떨림, 의식저하">손떨림, 의식저하</label>
    <label><input type="checkbox" name="pain" value="경련, 눈꺼풀의 떨림">경련, 눈꺼풀의 떨림</label>
    <label><input type="checkbox" name="pain" value="구토, 어지러움">구토, 어지러움</label>
    <label><input type="checkbox" name="pain" value="마비">마비</label>
    <label><input type="checkbox" name="pain" value="언어장애, 반신마비">언어장애, 반신마비</label>
    <label><input type="checkbox" name="pain" value="말 어눌함">말 어눌함</label>
    <label><input type="checkbox" name="pain" value="반호흡, 심부전">반호흡, 심부전</label>
    <label><input type="checkbox" name="pain" value="저혈압">저혈압</label>
    <p></p>
    <button type="button" onclick="getChecked()">Submit</button>
  </form>
  
  
  <script type="text/javascript">
    const doublearr = [[/*긴장성 두통*/'있음', '없음', '압박감', '조이는 느낌'], [/*편두통*/'있음', '없음', '빛이나 소리 공포증, 오심', '구토'], [/*메니에르병*/'있음', '없음', '청력감소, 귀먹먹함 반복되는 질병', '심하면 메스꺼움, 구토'], [/*뇌진탕*/'있음', '있음', '피로감, 구토', '혼수, 의식변화, 기억장애'], [/*저혈당*/'있음', '있음', '손떨림, 의식저하', '식은땀, 현기증'], [/*뇌전증*/'있음', '있음', '손떨림, 의식저하', '경련, 눈꺼풀의 떨림'], [/*뇌출혈*/'있음', '있음', '구토, 어지러움', '마비'], [/*뇌경색*/'있음', '있음', '언어장애, 반신마비', '말 어눌함'], [/*패혈증*/'있음', '없음', '반호흡, 심부전', '말 어눌함'], [/*일과성 허혈발작*/'있음', '있음', '안면마비', '구토', '감각이상, 24시간 이내에 증상 사라짐']];

    function getChecked() {//체크박스 값 배열로 만들기
      const checkboxes = document.getElementsByName('pain');
      
      const checkedValues = [];

      for (let i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i].checked) {
          checkedValues.push(checkboxes[i].value);
        }
      }
      console.log(checkArrayEquality(checkedValues, doublearr));
      console.log(checkedValues);
      window.location.href = checkArrayEquality(checkedValues, doublearr)
    }
    

    function checkArrayEquality(arr1, arr2) {
      const results = [];
      const bottleName = ['근육 긴장성 두통.html', '메니에르병.html', '뇌진탕.html', '저혈당.html', '뇌전증.html', '뇌출혈.html', '뇌경색.html', '패혈증.html', '일과성 허혈발작.html'];

      // arr1의 각 요소를 arr2의 각 요소와 비교하여 결과를 results 배열에 저장
  
      for (let i = 0; i < arr2.length; i++) {
        if (Array.isArray(arr2[i])) { // 해당 원소가 배열인 경우
          if (arr1[0] == arr2[i][0] && arr1[1] == arr2[i][1] && arr1[2] == arr2[i][2] && arr1[3] == arr2[i][3]) 
          {
            results.push(bottleName[i]);
          }
        }
      }
      if(results.length === 0){
      alert('검색된 결과가 없습니다! 다시 입력해주세요!');
      window.location.href = checkArrayEquality(checkedValues, doublearr)
    }else{
      return results;
    }
    }
</script>
  
</body>
</html>